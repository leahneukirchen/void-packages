# Template file for 'radicle-httpd'
pkgname=radicle-httpd
version=0.17.1
revision=1
build_wrksrc="radicle-httpd"
build_style=cargo
hostmakedepends="git pkg-config"
makedepends="libgit2-1.8-devel"
short_desc="HTTP API server for Radicle"
maintainer="Leah Neukirchen <leah@vuxu.org>"
license="MIT, Apache-2.0"
homepage="https://app.radicle.xyz/nodes/ash.radicle.garden/rad:z4V1sjrXqjvFdnCUbxPFqd5p4DtH5"
_gitrepo="https://seed.radicle.xyz/z4V1sjrXqjvFdnCUbxPFqd5p4DtH5.git"
_gitrev="f815b2dbca9ae151d0fa5c597f870e418f57f134"

do_fetch() {
	rm -rf ${wrksrc}
	git clone ${_gitrepo} ${wrksrc}
	cd ${wrksrc}
	git checkout ${_gitrev}
}

post_install() {
	vlicense LICENSE-MIT
}

# We don't package the UI, as it requires configuration before "vite build".
